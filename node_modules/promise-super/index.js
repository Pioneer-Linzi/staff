module.exports = (

	( proxy ) => {

		return class Presence
		{
			constructor ( executer )
			{
				proxy = this, executer( this.resolve, this.reject )

				return proxy
			}

			resolve ( result )
			{
				proxy.result = result
			}

			reject ( error )
			{
				proxy.error = error
			}

			next ( sneak )
			{
				proxy.sneak = sneak
			}

			then ( fn )
			{
				this.result = fn( proxy.result, proxy.sneak )

				return proxy
			}

			catch ( fn )
			{
				if ( proxy.error !== undefined )
				{
					fn( proxy.error )
				}

				return proxy
			}

			finally ( fn )
			{
				fn( this.result )
			}

		}

	}
)

( /* Code By Joenix */ )
